

*****

####  伊莉伊莉雅  
##### 1#       楼主       发表于 2022-10-6 15:50

 本帖最后由 伊莉伊莉雅 于 2022-10-6 16:33 编辑 

<strong>准备工作</strong><strong>
</strong>
<strong>选择StableDiffusion版本</strong>
原版的SD需要使用命令行进行操作，对于普通用户来说非常麻烦。社区制作的图形显示界面方面通常包含两种，一种是套壳GUI，比如 [Stable Diffusion GRisk GUI](https://grisk.itch.io/stable-diffusion-gui)。另一种是基于[Gradio](https://gradio.app/)或[Streamlit](https://github.com/streamlit/streamlit) 的Web前端。套壳GUI相比WebUI来说更新速度较慢，功能扩展较少。各项目的介绍里通常都有安装教程，只是多数项目都是直接安装环境，这会影响到以后安装其他的项目。环境分离可以使用Conda，也可以使用Docker，这里介绍如何使用Conda进行安装，不同的项目之间操作大同小异。<strong>原版SD地址：</strong>[https://github.com/CompVis/stable-diffusion](https://github.com/CompVis/stable-diffusion)<strong>WebUI: </strong><strong>AUTOMATIC1111：</strong>强烈推荐，有低显存模式，模型混合，文本翻转等功能，该教程中使用该版本。[https://github.com/AUTOMATIC1111/stable-diffusion-webui](https://github.com/AUTOMATIC1111/stable-diffusion-webui)对应的Krita插件：[https://github.com/sddebz/stable-diffusion-krita-plugin](https://github.com/sddebz/stable-diffusion-krita-plugin)<strong>sd-webui：</strong>早期用的人比较多，后来被AUTOMATIC1111反超，无显存优化。
      [https://github.com/sd-webui/stable-diffusion-webui](https://github.com/sd-webui/stable-diffusion-webui)<strong>imperator-maximus：</strong>基于AUTOMATIC1111，添加了REST API，方便制作Krita 或 Photoshop等软件的插件。[https://github.com/imperator-maximus/stable-diffusion-webui](https://github.com/imperator-maximus/stable-diffusion-webui)对应的Krita插件：[https://www.flyingdog.de/sd/en/](https://www.flyingdog.de/sd/en/)
<strong>下载模型</strong>通常来说，SD安装一份即可，对于一些特化的训练模型，比如WaifuDiffusion，trinart等，直接下载模型加载即可。替换方法就是直接找到程序中模型所在的文件夹，将想要加载的模型拷贝到该目录并改名为model.ckpt，然后运行程序即可。AUTOMATIC1111版的WebUI拥有直接切换模型的功能。<strong>模型下载地址</strong>
<strong>SD官方模型</strong><strong><strong>huggingface需要先注册登录。</strong></strong>[https://huggingface.co/CompVis/stable-diffusion-v-1-4-original](https://huggingface.co/CompVis/stable-diffusion-v-1-4-original)<strong>二次元模型</strong><strong>Waifu Diffusion</strong>以Danbooru的图片进行训练的二次元模型，v1.3今天刚正式发布，24G显存可选F32，一般选择F16即可。v1.2: [https://huggingface.co/hakurei/waifu-diffusion](https://huggingface.co/hakurei/waifu-diffusion)v1.3: [https://huggingface.co/hakurei/waifu-diffusion-v1-3](https://huggingface.co/hakurei/waifu-diffusion-v1-3) <strong>TrinArt</strong>动漫专精模型。[https://huggingface.co/naclbit/trinart_stable_diffusion_v2/tree/main](https://huggingface.co/naclbit/trinart_stable_diffusion_v2/tree/main)<strong>Hentai Diffusion</strong>NSFW，基于WD的色图专精模型。[https://huggingface.co/Deltaadams/Hentai-Diffusion/tree/main](https://huggingface.co/Deltaadams/Hentai-Diffusion/tree/main)<strong>其他模型汇总：</strong>[https://rentry.org/sdmodels](https://rentry.org/sdmodels) 
<strong>几种二次元模型对比：</strong>
<strong>

<img src="https://img.saraba1st.com/forum/202210/06/154420k5zq7s5cjclccuvj.jpg" referrerpolicy="no-referrer">

<strong>xy_grid-0002-4203913662-a beautiful 1girl bishoujo cute aesthetic multicolored_e.jpg</strong> (468.81 KB, 下载次数: 0)

下载附件

2022-10-6 15:44 上传

</strong>
<strong>

<img src="https://img.saraba1st.com/forum/202210/06/154421ozfsywsjqmxjyjfx.jpg" referrerpolicy="no-referrer">

<strong>xy_grid-0005-1504773321-a beautiful 1girl bishoujo cute aesthetic multicolored_e.jpg</strong> (387.53 KB, 下载次数: 0)

下载附件

2022-10-6 15:44 上传

</strong>

<strong>

<img src="https://img.saraba1st.com/forum/202210/06/154421all0ar9l41w9g99z.jpg" referrerpolicy="no-referrer">

<strong>xy_grid-0011-323447850-a beautiful 1girl bishoujo standing in splash water Starr.jpg</strong> (394.58 KB, 下载次数: 0)

下载附件

2022-10-6 15:44 上传

</strong>
<strong>
</strong>
<strong>安装基础软件</strong><strong>Anaconda[https://www.anaconda.com/](https://www.anaconda.com/)git[https://gitforwindows.org/](https://gitforwindows.org/)
</strong><strong>安装</strong>选择目录，右键Git Bash Here，clone仓库：<blockquote>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git复制代码</blockquote>打开Anaconda Prompt (Anaconda3)<blockquote>conda config --add envs_dirs D:\ProgramData\Anaconda3\envs //设置虚拟环境路径（默认在C盘），自行替换虚拟环境路径 conda config --add pkgs_dirs D:\ProgramData\Anaconda3\pkgs //这个不换也行，也可以改为其他路径，该路径默认无写权限，如果换到了这个目录需要用&lt;b&gt;管理员模式&lt;/b&gt;打开Anaconda Prompt cd D:\__AI\Stable Diffusion\stable-diffusion-webui //进入克隆的webui工程目录，自行替换为对应工程所在目录 D: //进入工程目录所在盘符，自行替换为程序目录所在盘符（上面cd D:/xxx之后还处于C盘，需要再输入一次盘符加:然后回车（比如d:）才会进入到目标目录）复制代码</blockquote>以管理员身份打开Anaconda Prompt (Anaconda3) （如果未修改pkgs文件夹，则不需要管理员模式）使用Proxifier将python.exe添加到规则中，应用梯子规则，下载环境需要python全程走梯子。（如果熟悉conda安装环境，或者替换了国内的conda源，则不需要开梯子，按正常流程即可）创建虚拟环境conda env create -f environment-wsl2.yaml //创建环境，可以先将environment-wsl2.yaml里的name替换为ldm（默认为automatic） activate ldm //切换环境，如果未修改environment-wsl2.yaml中的name，则为 activate automatic mkdir repositories //创建其他仓库父目录复制代码
克隆sd等仓库git clone https://github.com/CompVis/stable-diffusion.git repositories/stable-diffusion git clone https://github.com/CompVis/taming-transformers.git repositories/taming-transformers git clone https://github.com/sczhou/CodeFormer.git repositories/CodeFormer git clone https://github.com/salesforce/BLIP.git repositories/BLIP git clone https://github.com/crowsonkb/k-diffusion.git repositories/k-diffusion复制代码
安装其他依赖pip install transformers==4.19.2 diffusers invisible-watermark --prefer-binary pip install git+https://github.com/crowsonkb/k-diffusion.git --prefer-binary pip install git+https://github.com/TencentARC/GFPGAN.git --prefer-binary pip install -r repositories/CodeFormer/requirements.txt --prefer-binary pip install -r requirements.txt  --prefer-binary pip install -U numpy  --prefer-binary复制代码
修改webui.py，供局域网内其他机器访问修改webui.py的launch方法，第96行： server_name="0.0.0.0" if cmd_opts.listen else None, 修改为： server_name="0.0.0.0",复制代码
添加模型将下载的模型放到文件夹 stable-diffusion-webui/models/Stable-diffusion复制代码
运行程序python webui.py复制代码
替换模型运行之后，在网页的Settings选项卡中，找到Stable Diffusion 在下拉框中选择想要加载的模型。复制代码
<strong>运行</strong>1. 打开Anaconda Prompt (Anaconda3) 2. activate ldm //启用环境 如果创建时未修改的话，则为 activate automatic 3. cd D:\__AI\Stable Diffusion\stable-diffusion-webui //进入webui的文件夹 4. D: //切换盘符 5. python webui.py //运行 低显存可以加 --lowvram 或者 --medvram 即： python webui.py --lowvram复制代码
<strong>其他</strong><strong>混合模型</strong>
将下载的模型放到文件夹 stable-diffusion-webui/models/Stable-diffusion下面运行之后，可以在Checkpoint Merger选项卡混合两个模型。
比如用wd1.3与trinart以7:3的比例混合。（影响效果大概就是wd1.3 * 0.7 + trinart * 0.3）混合后的模型也在模型文件夹中。

<img src="https://img.saraba1st.com/forum/202210/06/162749msxsszn3rmxvnbv4.png" referrerpolicy="no-referrer">

<strong>QQ截图20221006162733.png</strong> (46.78 KB, 下载次数: 0)

下载附件

2022-10-6 16:27 上传

<strong>生成对比图</strong>
在Script下拉框中选择X/Y plot，可以生成方阵图，比如这里x轴选择Checkpoint name，y轴不选，就会生成上面那种相同参数不同模型的对比图。

<img src="https://img.saraba1st.com/forum/202210/06/163032ews5h52pisin9hh1.png" referrerpolicy="no-referrer">

<strong>QQ图片20221006163014.png</strong> (38.65 KB, 下载次数: 0)

下载附件

2022-10-6 16:30 上传

﹍﹍﹍

评分

 参与人数 28战斗力 +39

|昵称|战斗力|理由|
|----|---|---|
| lxlyandccc| + 1|好评加鹅|
| leeskies| + 2||
| ChristinaDU| + 1|好评加鹅|
| Alicest| + 1||
| denglinas1| + 2||
| JMFluorece| + 1||
| 郭楠| + 1|好评加鹅|
| 蕾咪莉亚| + 2|好评加鹅|
| 帮顶的| + 1|好评加鹅|
| a92063256| + 1|好评加鹅|
| owada| + 2|好评加鹅|
| N-Time| + 1||
| 骷髅兵| + 1|好评加鹅|
| dxx9665| + 2|好评加鹅|
| 处男鉴黄师| + 2|涩图自由指日可待|
| lscow| + 2|好评加鹅|
| l226wtq| + 1|好评加鹅|
| 阿酷怕苦| + 1|好评加鹅|
| orca| + 1|好评加鹅|
| -v-| + 2|好评加鹅|

查看全部评分

*****

####  月影镇魂曲  
##### 2#       发表于 2022-10-6 15:51

好，顶

*****

####  与何人说  
##### 3#       发表于 2022-10-6 15:52

mark

*****

####  伊莉伊莉雅  
##### 4#         楼主| 发表于 2022-10-6 15:53

<img src="https://static.saraba1st.com/image/smiley/carton2017/018.gif" referrerpolicy="no-referrer">直接复制前两天写的markdown，编辑窗口看挺正常，发出来果然乱了，等我重新排版一下。

*****

####  7217210868  
##### 5#       发表于 2022-10-6 15:54

MARK了，假期结束后就尝试……

*****

####  Nanachi  
##### 6#       发表于 2022-10-6 15:56

本地部署的优点是可以细化领域训练吧，比如针对某些特殊画家画风

*****

####  哈扎马  
##### 7#       发表于 2022-10-6 15:57

收藏了

*****

####  εRemastered  
##### 8#       发表于 2022-10-6 15:59

我现在相信这东西是老黄搞出来的了

*****

####  水松涛木  
##### 9#       发表于 2022-10-6 16:01

收藏了

*****

####  吴怀在  
##### 10#       发表于 2022-10-6 16:06

你已经是一个成熟的AI了，下载下来后要学会自己动

*****

####  Lisylfn  
##### 11#       发表于 2022-10-6 16:07

代理直接终端set就好了, 不需要Proxifier 

set http_proxy=http://127.0.0.1:port &amp; set https_proxy=http://127.0.0.1:port

$Env:http_proxy="http://127.0.0.1:port";$Env:https_proxy="http://127.0.0.1:port"

另外那一堆git clone, launch.py它不是会帮你搞吗

*****

####  伊莉伊莉雅  
##### 12#         楼主| 发表于 2022-10-6 16:10

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782303&amp;ptid=2098295" target="_blank">Lisylfn 发表于 2022-10-6 16:07</a>

代理直接终端set就好了, 不需要Proxifier 

set http_proxy=http://127.0.0.1:port &amp; set https_proxy=http: ...</blockquote>
<img src="https://static.saraba1st.com/image/smiley/carton2017/019.png" referrerpolicy="no-referrer">智能化不智能，出错的时候不好定位，我基本也就是手动做一遍launch.py里的操作。

*****

####  Lisylfn  
##### 13#       发表于 2022-10-6 16:13

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782340&amp;ptid=2098295" target="_blank">伊莉伊莉雅 发表于 2022-10-6 16:10</a>

智能化不智能，出错的时候不好定位，我基本也就是手动做一遍launch.py里的操作。 ...</blockquote>
遇到问题多半是网络<img src="https://static.saraba1st.com/image/smiley/face2017/057.png" referrerpolicy="no-referrer">

*****

####  螺纹  
##### 14#       发表于 2022-10-6 16:15

mark学习

*****

####  niyikaowo  
##### 15#       发表于 2022-10-6 16:17

这个搞下来，是不是人人都可以是小画家

*****

####  wolfwood  
##### 16#       发表于 2022-10-6 16:18

等一个傻瓜包人人可产粮的时代<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">

*****

####  伊莉伊莉雅  
##### 17#         楼主| 发表于 2022-10-6 16:22

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782363&amp;ptid=2098295" target="_blank">Lisylfn 发表于 2022-10-6 16:13</a>

遇到问题多半是网络</blockquote>
对，网络没问题的话，用conda创建个环境，照着仓库介绍安装就可以，不然conda创建环境，pip安装，git clone处处是坑。

*****

####  伊莉伊莉雅  
##### 18#         楼主| 发表于 2022-10-6 16:23

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782420&amp;ptid=2098295" target="_blank">wolfwood 发表于 2022-10-6 16:18</a>

等一个傻瓜包人人可产粮的时代</blockquote>
傻瓜包倒是一直都有，不过功能一般不会及时更到最新

*****

####  firedrop  
##### 19#       发表于 2022-10-6 16:30

看了眼机箱里的A卡留下了一声叹息<img src="https://static.saraba1st.com/image/smiley/face2017/180.png" referrerpolicy="no-referrer">

娘的这肯定也是皮衣黄保卡价的**<img src="https://static.saraba1st.com/image/smiley/face2017/212.png" referrerpolicy="no-referrer">

*****

####  Antonidas  
##### 20#       发表于 2022-10-6 16:32

古董显卡（980），但是内存128g，能装么？

*****

####  mahoraga  
##### 21#       发表于 2022-10-6 16:35

<blockquote>Antonidas 发表于 2022-10-6 16:32
古董显卡（980），但是内存128g，能装么？</blockquote>
需要至少4g显存

*****

####  伊莉伊莉雅  
##### 22#         楼主| 发表于 2022-10-6 16:35

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782587&amp;ptid=2098295" target="_blank">Antonidas 发表于 2022-10-6 16:32</a>

古董显卡（980），但是内存128g，能装么？</blockquote>
<img src="https://static.saraba1st.com/image/smiley/carton2017/018.gif" referrerpolicy="no-referrer">可以试试，4G的话应该可以，就是会慢一些，运行的时候加--lowvram。

*****

####  nexus1  
##### 23#       发表于 2022-10-6 16:37

<blockquote>伊莉伊莉雅 发表于 2022-10-6 16:22
对，网络没问题的话，用conda创建个环境，照着仓库介绍安装就可以，不然conda创建环境，pip安装，git clo ...</blockquote>
Pycharm怎么处理？

*****

####  伊莉伊莉雅  
##### 24#         楼主| 发表于 2022-10-6 16:38

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782628&amp;ptid=2098295" target="_blank">nexus1 发表于 2022-10-6 16:37</a>

Pycharm怎么处理？</blockquote>
诶，用不到Pycharm吖

*****

####  mooerfoes  
##### 25#       发表于 2022-10-6 16:43

不懂就问，那个F16和F32有啥差别啊？我看有人宁可拿CPU跑F32，是因为效果更好吗

*****

####  伊莉伊莉雅  
##### 26#         楼主| 发表于 2022-10-6 16:49

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782712&amp;ptid=2098295" target="_blank">mooerfoes 发表于 2022-10-6 16:43</a>

不懂就问，那个F16和F32有啥差别啊？我看有人宁可拿CPU跑F32，是因为效果更好吗 ...</blockquote>
官方说法差别不大：[https://huggingface.co/hakurei/waifu-diffusion-v1-3/discussions/3](https://huggingface.co/hakurei/waifu-diffusion-v1-3/discussions/3) <blockquote>Functionally they're all the same. Nearly no one will use the full. You could have the same seed, same prompt, same everything and likely have near exact same results with each; the difference is extra data not relevant to image generation is pruned from the full, and we're left with F16 or F32. 32 is full precision, 16 is half.

If you have 24gb VRAM 32bit precision is easy, if you have less you may still use it depending on your SD build and how it optimizes memory use. Best to stick with 16 is you're not sure. Difference in quality is virtually imperceptible.</blockquote>
<blockquote>I've left the full epochs in the repo since there are slight differences between full, float32, and float16. Plus, you can also finetune with the full weights lol</blockquote>

另外wd1.3有一个14g的opt是训练用的。

*****

####  千魄万斩  
##### 27#       发表于 2022-10-6 16:56

MX250 2g显存一张图6分钟<img src="https://static.saraba1st.com/image/smiley/face2017/240.png" referrerpolicy="no-referrer">

*****

####  nexus1  
##### 28#       发表于 2022-10-6 16:59

<blockquote>千魄万斩 发表于 2022-10-6 16:56
MX250 2g显存一张图6分钟难道快&amp;#x4 ...</blockquote>
怎么又是老黄偷笑的世界？

*****

####  万里小路さん  
##### 29#       发表于 2022-10-6 17:03

不用anaconda自己配置Python环境可以吗

[  -- 来自 能手机投票的 Stage1官方 Android客户端](https://www.coolapk.com/apk/140634)

*****

####  rslika  
##### 30#       发表于 2022-10-6 17:06

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782628&amp;ptid=2098295" target="_blank">nexus1 发表于 2022-10-6 16:37</a>

Pycharm怎么处理？</blockquote>
Pycharm把环境调好了运行主py文件应该也行

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| nexus1| + 1||

查看全部评分



*****

####  rslika  
##### 31#       发表于 2022-10-6 17:07

<img src="https://static.saraba1st.com/image/smiley/face2017/124.png" referrerpolicy="no-referrer">为了炼色图我还要在自己电脑上装一套坐牢环境

*****

####  伊莉伊莉雅  
##### 32#         楼主| 发表于 2022-10-6 17:14

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782953&amp;ptid=2098295" target="_blank">万里小路さん 发表于 2022-10-6 17:03</a>
不用anaconda自己配置Python环境可以吗

  -- 来自 能手机投票的 Stage1官方 Android客户端 ...</blockquote>
可以，项目介绍里就是py直装，但是不太推荐，如果再装其他AI项目容易把环境搞崩。如果确定不用其他项目的话就无所谓。

*****

####  mooerfoes  
##### 33#       发表于 2022-10-6 17:17

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782783&amp;ptid=2098295" target="_blank">伊莉伊莉雅 发表于 2022-10-6 16:49</a>

官方说法差别不大：https://huggingface.co/hakurei/waifu-diffusion-v1-3/discussions/3</blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/025.png" referrerpolicy="no-referrer">厉害了，回头我多研究研究

*****

####  华发夜眼[CN]  
##### 34#       发表于 2022-10-6 17:20

3060终于有地方用了<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">

*****

####  月初照  
##### 35#       发表于 2022-10-6 17:24

这个1063似乎是跑不起来的？来自: iPhone客户端

*****

####  Lisylfn  
##### 36#       发表于 2022-10-6 17:55

 本帖最后由 Lisylfn 于 2022-10-6 17:58 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57782953&amp;ptid=2098295" target="_blank">万里小路さん 发表于 2022-10-6 17:03</a>

不用anaconda自己配置Python环境可以吗

  -- 来自 能手机投票的 Stage1官方 Android客户端 ...</blockquote>
可以, 你用webui repo里那个webui.bat, 这个bat会帮你设置venv

另外anaconda啥都有太大了的话, 你可以考虑装个miniconda呀, conda分隔环境太好用了

*****

####  伊莉伊莉雅  
##### 37#         楼主| 发表于 2022-10-6 18:13

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57783219&amp;ptid=2098295" target="_blank">月初照 发表于 2022-10-6 17:24</a>
这个1063似乎是跑不起来的？</blockquote>
之前看群友好像1063跑起来了，优化版最低的是2.5g显存

*****

####  方舟售票员  
##### 38#       发表于 2022-10-6 18:15

现在到底是个什么水平啊

我自己画个纯线稿，AI能自动完成一整套上色吗？

还是必须要从头都由AI搞？

*****

####  炽十二翼  
##### 39#       发表于 2022-10-6 18:18

<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">懒，坐等傻瓜包

*****

####  狂鸟渡渡  
##### 40#       发表于 2022-10-6 18:27

好的手册 来点docker梭哈魔法

*****

####  εRemastered  
##### 41#       发表于 2022-10-6 18:59

python玩机器学习不都装新环境吗，不用conda也可以装的

*****

####  Vneeto  
##### 42#       发表于 2022-10-6 19:02

用不上不过还是马克吧

*****

####  07579394  
##### 43#       发表于 2022-10-6 19:05

唉，以后能不能买老黄显卡送一键傻瓜包

*****

####  冰风血羽  
##### 44#       发表于 2022-10-6 19:36

牛蛙……

[  -- 来自 能搜索的 Stage1官方 Android客户端](https://www.coolapk.com/apk/140634)

*****

####  RinQ0326  
##### 45#       发表于 2022-10-6 19:42

是时候掏个矿卡来炼以前发过包的小画家画风的画了。

*****

####  Roben  
##### 46#       发表于 2022-10-6 19:45

好好好<img src="https://static.saraba1st.com/image/smiley/face2017/072.png" referrerpolicy="no-referrer">

*****

####  gx19860411  
##### 47#       发表于 2022-10-6 19:53

我的ps插件锐意制作中<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">
【也许是国内第一款基于Stable Diffusion的PS插件-哔哩哔哩】 https://b23.tv/qCUdgLj

—— 来自 Xiaomi M2011K2C, Android 12上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.4

﹍﹍﹍

评分

 参与人数 4战斗力 +4

|昵称|战斗力|理由|
|----|---|---|
| black199| + 1|好评加鹅|
| Alicest| + 1||
| 伊莉伊莉雅| + 1|好评加鹅|
| nexus1| + 1||

查看全部评分

*****

####  人畜无害沃特碧  
##### 48#       发表于 2022-10-6 20:27

马克

*****

####  nordicvan  
##### 49#       发表于 2022-10-6 20:46

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57784986&amp;ptid=2098295" target="_blank">RinQ0326 发表于 2022-10-6 19:42</a>

是时候掏个矿卡来炼以前发过包的小画家画风的画了。</blockquote>
花嫁矿卡一出生就在暗无天日的黑窑里苦干，终于有一天得到了赎身的机会。本以为从此可以在小机箱里过上安稳幸福的生活，没想到新的肥宅主人继续命令她没日没夜地生产涩图。

*****

####  leeskies  
##### 50#       发表于 2022-10-6 20:49

<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">礼问一下低显存要多少g

*****

####  海关  
##### 51#       发表于 2022-10-6 21:08

<img src="https://static.saraba1st.com/image/smiley/face2017/072.png" referrerpolicy="no-referrer">

*****

####  烂菊花  
##### 52#       发表于 2022-10-6 21:10

以后真的自产自销了<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  mooerfoes  
##### 53#       发表于 2022-10-6 21:44

 本帖最后由 mooerfoes 于 2022-10-6 21:47 编辑 

<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">终于用上了，然而我不知道为什么，宽高960*1280的画布大小永远会试图画多个人物……果然还是应该优先考虑I2I吗……加了1girl也没有用，倒……

*****

####  处男鉴黄师  
##### 54#       发表于 2022-10-6 21:53

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57786289&amp;ptid=2098295" target="_blank">mooerfoes 发表于 2022-10-6 21:44</a>

终于用上了，然而我不知道为什么，宽高960*1280的画布大小永远会试图画多个人物……果然还是应该优 ...</blockquote>
据说SD的模型使用512x512分辨率训练的，超过太多会有各种奇怪的问题<img src="https://static.saraba1st.com/image/smiley/face2017/190.png" referrerpolicy="no-referrer">

*****

####  万里小路さん  
##### 55#       发表于 2022-10-6 22:00

无论用anaconda或者用webui.bat都会出现这个错误，何解

ModuleNotFoundError: No module named 'ldm'

*****

####  jiang.gg  
##### 56#       发表于 2022-10-6 22:16

这就开始从零学习!<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

*****

####  伊莉伊莉雅  
##### 57#         楼主| 发表于 2022-10-6 22:19

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57786475&amp;ptid=2098295" target="_blank">万里小路さん 发表于 2022-10-6 22:00</a>

无论用anaconda或者用webui.bat都会出现这个错误，何解

ModuleNotFoundError: No module named 'ldm' ...</blockquote>
ldm的环境存在吗？可以用anaconda navigator看一下环境是否存在，存在的话可能就是有依赖没有安装好。

*****

####  伊莉伊莉雅  
##### 58#         楼主| 发表于 2022-10-6 22:21

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57785717&amp;ptid=2098295" target="_blank">leeskies 发表于 2022-10-6 20:49</a>

礼问一下低显存要多少g</blockquote>
问了下群友，他最低在max350 2G上跑过，不过那个是整合版，可以进群里装他那个整合版试试（我倒是没装过

*****

####  万里小路さん  
##### 59#       发表于 2022-10-6 22:28

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57786746&amp;ptid=2098295" target="_blank">伊莉伊莉雅 发表于 2022-10-6 22:21</a>

问了下群友，他最低在max350 2G上跑过，不过那个是整合版，可以进群里装他那个整合版试试（我倒是没装过 ...</blockquote>
重新clone了一遍可以了，感觉可能是没按步骤来的问题

*****

####  zhciq  
##### 60#       发表于 2022-10-6 22:30

好棒！



*****

####  桜夢  
##### 61#       发表于 2022-10-6 23:00

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57786475&amp;ptid=2098295" target="_blank">万里小路さん 发表于 2022-10-6 22:00</a>

无论用anaconda或者用webui.bat都会出现这个错误，何解

ModuleNotFoundError: No module named 'ldm' ...</blockquote>
我进repositories\stable-diffusion执行pip install -e . 后正常



*****

####  jiang.gg  
##### 62#       发表于 2022-10-6 23:39

[img]

<img src="https://img.saraba1st.com/forum/202210/06/233903hc8r5y3ceycrh222.png" referrerpolicy="no-referrer">

<strong>捕获221006.PNG</strong> (92 KB, 下载次数: 0)

下载附件

2022-10-6 23:39 上传

[/img]

卡在初始化WEBUI上了...



*****

####  acekanon  
##### 63#       发表于 2022-10-6 23:50

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57786289&amp;ptid=2098295" target="_blank">mooerfoes 发表于 2022-10-6 21:44</a>

终于用上了，然而我不知道为什么，宽高960*1280的画布大小永远会试图画多个人物……果然还是应该优 ...</blockquote>
试试 solo  呢



*****

####  monki  
##### 64#       发表于 2022-10-7 00:04

这个项目部署完空间多大啊？想试试怕硬盘不够



*****

####  蚂蚁丸  
##### 65#       发表于 2022-10-7 00:14

马一下 不一定能搞成

[  -- 来自 能手机投票的 Stage1官方 Android客户端](https://www.coolapk.com/apk/140634)



*****

####  cat122802501  
##### 66#       发表于 2022-10-7 00:40

<blockquote>Warning: Taming Transformers not found at path C:\Software\taming-transformers\taming

Warning: CodeFormer not found at path C:\Software\CodeFormer\inference_codeformer.py

Warning: BLIP not found at path C:\Software\BLIP\models\blip.py

Traceback (most recent call last):

  File "webui.py", line 8, in &lt;module&gt;

    from modules.shared import opts, cmd_opts, state

  File "C:\Software\StableDiffusion\stable-diffusion-webui\modules\shared.py", line 6, in &lt;module&gt;

    import gradio as gr

ModuleNotFoundError: No module named 'gradio'</blockquote>

求指教 找不到gradio是什么原因呢？



*****

####  伊莉伊莉雅  
##### 67#         楼主| 发表于 2022-10-7 00:46

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57787966&amp;ptid=2098295" target="_blank">monki 发表于 2022-10-7 00:04</a>

这个项目部署完空间多大啊？想试试怕硬盘不够</blockquote>
整个项目就不到1.5G，但是模型占的比较大，单独一个wd1.3_float16的话是2G多，trinart也是2G左右，其他模型也都是3-4G，full的模型是7G，倒不是必须，正常用float16就行了。内存最好在16G以上，有ssd的话加载模型的时候能快一些。（我乱七八糟的模型再加上自己混的，一共超过80G了，很多倒是可以直接删掉）。一般来说整个wd1.3_float16+trinart这俩就够了（

*****

####  med  
##### 68#       发表于 2022-10-7 00:48

等等容器

*****

####  伊莉伊莉雅  
##### 69#         楼主| 发表于 2022-10-7 00:49

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57788333&amp;ptid=2098295" target="_blank">cat122802501 发表于 2022-10-7 00:40</a>

求指教 找不到gradio是什么原因呢？</blockquote>
ModuleNotFoundError: No module named 'xxx'都是因为有依赖没有安装。

gradio是在requirements.txt里的，需要用pip install -r requirements.txt安装。（就是第7步

再 pip install -r requirements.txt 安装一遍看看。



*****

####  葵  
##### 70#       发表于 2022-10-7 00:55

ai画画的进化速度真是恐怖<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

*****

####  cat122802501  
##### 71#       发表于 2022-10-7 00:55

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57788403&amp;ptid=2098295" target="_blank">伊莉伊莉雅 发表于 2022-10-7 01:49</a>

ModuleNotFoundError: No module named 'xxx'都是因为有依赖没有安装。

gradio是在requirements.txt里的 ...</blockquote><blockquote>ERROR: Could not open requirements file: [Errno 2] No such file or directory: 'requirements.txt' </blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/007.png" referrerpolicy="no-referrer">菊苣直接爆红字了 源的问题？

*****

####  jue3365387  
##### 72#       发表于 2022-10-7 00:57

好  我也试试

*****

####  伊莉伊莉雅  
##### 73#         楼主| 发表于 2022-10-7 00:58

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57788454&amp;ptid=2098295" target="_blank">cat122802501 发表于 2022-10-7 00:55</a>

菊苣直接爆红字了 源的问题？</blockquote>
目录不对，你需要在stable-diffusion-webui那个文件夹下操作。

另外记得要把conda环境切到你的那个环境（ldm或者automatic）

*****

####  伊莉伊莉雅  
##### 74#         楼主| 发表于 2022-10-7 01:01

就是打开Anaconda Prompt之后，cd到你的那个目录，你直接打开那个文件夹的话也能看到那个文件夹下面有requirements.txt才对。

<img src="https://img.saraba1st.com/forum/202210/07/010102u7m3cwjuqhqy7rn0.png" referrerpolicy="no-referrer">

<strong>QQ截图20221007010049.png</strong> (96.54 KB, 下载次数: 0)

下载附件

2022-10-7 01:01 上传



*****

####  cat122802501  
##### 75#       发表于 2022-10-7 01:12

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57788502&amp;ptid=2098295" target="_blank">伊莉伊莉雅 发表于 2022-10-7 02:01</a>

就是打开Anaconda Prompt之后，cd到你的那个目录，你直接打开那个文件夹的话也能看到那个文件夹下面有requi ...</blockquote>
啊 那我完全理解错了 我之前是在StableDiffusion而不是webui的根目录下创建了虚拟环境 那是不是需要重头再来？

*****

####  伊莉伊莉雅  
##### 76#         楼主| 发表于 2022-10-7 01:19

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=57788580&amp;ptid=2098295" target="_blank">cat122802501 发表于 2022-10-7 01:12</a>

啊 那我完全理解错了 我之前是在StableDiffusion而不是webui的根目录下创建了虚拟环境 那是不是需要重头 ...</blockquote>
虚拟环境是不限制目录的，都是存在conda config --add envs_dirs D:\ProgramData\Anaconda3\envs这个配置的目录下的。但是你运行或者安装其他依赖的时候，是需要切到你的虚拟环境下的，切完虚拟环境之后，还需要进入到你的目录下面。

比如我创建了一个虚拟环境ldm，接着我在d盘放了一个stable diffusion的项目，然后又在e盘放了一个DeforumStableDiffusionLocal（用sd画画然后生成视频）的项目，只要这两个项目都用这一个环境，我就可以activate ldm切到这个环境之后（Anaconda打开默认是base环境），cd到 stable diffusion的目录下运行sd，或者cd到DeforumStableDiffusionLocal的目录下运行DeforumStableDiffusionLocal。

*****

####  丝塔戈依  
##### 77#       发表于 2022-10-7 01:20

好 马克

*****

####  伊莉伊莉雅  
##### 78#         楼主| 发表于 2022-10-7 01:21

你现在就是打开Anaconda，切到你的虚拟环境，然后进入到webui的那个目录再继续操作就可以了。



*****

####  eulereld  
##### 79#       发表于 2022-10-7 01:23

 本帖最后由 eulereld 于 2022-10-7 01:25 编辑 

今天刚换了新电脑，搭了一张3060，呼呼可以玩了，教程好长先mark一下週末再搞，希望程式小白我也能搞懂，因为一半以上看不懂（。）先谢谢啰<img src="https://static.saraba1st.com/image/smiley/face2017/075.png" referrerpolicy="no-referrer">

